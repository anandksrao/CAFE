<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CAFE: /mnt/c/Users/befulton/Documents/GIT/CAFE/cafe/simerror.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CAFE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_815ec9b478b15e8b47eb45d0c766f1f4.html">cafe</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">simerror.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &lt;algorithm&gt;</code><br/>
<code>#include &lt;sstream&gt;</code><br/>
<code>#include &lt;fstream&gt;</code><br/>
<code>#include &lt;stdexcept&gt;</code><br/>
<code>#include &lt;iterator&gt;</code><br/>
<code>#include &quot;<a class="el" href="cafe_2simerror_8h_source.html">simerror.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2a7cac49c1b8b18391983129ca0175ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#a2a7cac49c1b8b18391983129ca0175ac">backup_original_count</a> (<a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a> pcf)</td></tr>
<tr class="separator:a2a7cac49c1b8b18391983129ca0175ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5acd34d36b9ccfd283f489a021bc52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#afa5acd34d36b9ccfd283f489a021bc52">restore_original_count</a> (<a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a> pcf)</td></tr>
<tr class="separator:afa5acd34d36b9ccfd283f489a021bc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131590bf81902f44a2d6f7013e91225f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#a131590bf81902f44a2d6f7013e91225f">get_random</a> (std::vector&lt; double &gt; misclassification_probability)</td></tr>
<tr class="separator:a131590bf81902f44a2d6f7013e91225f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3c6c4226eb813c1633d92087a225a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#ace3c6c4226eb813c1633d92087a225a6">write_strings</a> (std::ostream &amp;ost, char **items, int size, std::string delimiter)</td></tr>
<tr class="separator:ace3c6c4226eb813c1633d92087a225a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154920817169a4fdad49dc54c19cb4f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#a154920817169a4fdad49dc54c19cb4f4">write_species_counts</a> (<a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a> pcf, std::ostream &amp;ost)</td></tr>
<tr class="separator:a154920817169a4fdad49dc54c19cb4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2949b5e4b302b7d3c15320386a73d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#a1f2949b5e4b302b7d3c15320386a73d1">simulate_misclassification</a> (<a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a> pcf)</td></tr>
<tr class="separator:a1f2949b5e4b302b7d3c15320386a73d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d6223c5eeeacd0e8616a1fdf990faf"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cafe_2simerror_8cpp.html#ae8d6223c5eeeacd0e8616a1fdf990faf">simerror</a> (<a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a> pcf, std::string prefix, int repeat)</td></tr>
<tr class="separator:ae8d6223c5eeeacd0e8616a1fdf990faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2a7cac49c1b8b18391983129ca0175ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int backup_original_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a>&#160;</td>
          <td class="paramname"><em>pcf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a131590bf81902f44a2d6f7013e91225f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t get_random </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>misclassification_probability</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>random sampling based on misclassification probability. This may have a bug in it as there is nothing inherently preventing r from going over the limit Is there an unstated assumption that that misclassification_probabilities add up to 1? </p>

</div>
</div>
<a class="anchor" id="afa5acd34d36b9ccfd283f489a021bc52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int restore_original_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a>&#160;</td>
          <td class="paramname"><em>pcf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8d6223c5eeeacd0e8616a1fdf990faf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double simerror </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a>&#160;</td>
          <td class="paramname"><em>pcf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>repeat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>to check how simex is working generate data with additional error (Ystar) by applying the misclassification matrix to the true data ( random sampling of true factors=f, with probabilities following the column=f of the misclassification matrix ) then run simex on the variable with error (Ystar), and compare it with the true model (based on Y) and the naive model(based on Ystar).</p>
<p>first find the naive estimator by assuming there is no error in the data. then we will add even more error and store the estimates for each dataset with increasing error (k = 0.5, 1, 1.5, 2) so in the end we have (1+number of lambda) * (number of parameters) estimates. for each i = k we run the estimate j = B number of times. each time add error by applying the misclassification matrix = errormatrix^k update the estimates based on error added data, store the mean estimates for all B runs. then predict the estimates at k=-1 </p>

</div>
</div>
<a class="anchor" id="a1f2949b5e4b302b7d3c15320386a73d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_misclassification </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a>&#160;</td>
          <td class="paramname"><em>pcf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a154920817169a4fdad49dc54c19cb4f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_species_counts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="distro_2CAFE_2libtree_2family_8h.html#abe532152fa131d80a9ce7e4106821197">pCafeFamily</a>&#160;</td>
          <td class="paramname"><em>pcf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>ost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ace3c6c4226eb813c1633d92087a225a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_strings </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>ost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>delimiter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
